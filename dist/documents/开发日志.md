# 2021.4.22
## 开发环境搭建
本项目借鉴从零搭建博客的开发流程

## 小结
今天项目正式开工（撒花）。梳理了一下雨薇姐的eduRedar/redux官方文档的todolist/从零搭建博客的项目结构，思考了本项目的结构目录。
决定下一步先写components部分，用静态数据，先把视图搞上。components部分模仿雨薇姐的写法。计划在4.30之前完成

# 2021.4.23
## 布局
eduRedar的布局和纯html略有不同，它是放在components/containers/style.css里的，并且通过components/AppIndex.js调用

## State or Props？
好难下笔啊，于是乎请教了万能的雨薇改，以下是她给出的设计建议：
> 一般来说，只在组件内部或者组件的子组件里使用的数据用state，props是需要从父级或者redux里接收的数据。
> 子组件内部能自给自足的，就用state。这个state可以在初始化的时候用props的值，但不可通过props的值去修改state。


梳理了一下commentApp，理解如下：
CommentApp定义了state：comments，通过往CommentInput传递onSubmit回调函数来获取评论，而这个onSubmit操作在子组件里也是通过props来获取的。
CommentInput定义了state（username，content），内部能够自给自足。通过onClick的函数，获取this.props.onSubmit，给父组件CommentApp传数据。
CommentList里要用到comments，故通过this.props.comments来获取父组件CommentApp的数据。
以后关于state和props搞不清楚的可以参考这个例子

## 小结
今天主要是梳理了state和props的区别，不敢说理清楚了，但明天应该可以下笔了。

# 2021.4.24
## Reacr官方文档

### State vs Props
> * 所有 React 组件都必须像纯函数一样保护它们的**props不被更改**。
> * State是私有的，并且完全受控于当前组件。
> * Class 组件应该始终使用 props 参数来调用父类的构造函数。

### [状态提升](https://react.docschina.org/docs/lifting-state-up.html#lifting-state-up)
> TemperatureInput 组件的变化：我们移除组件自身的 state，通过使用 this.props.temperature 替代 this.state.temperature 来读取温度数据。当我们想要响应数据改变时，我们需要调用 Calculator 组件提供的 this.props.onTemperatureChange()，而不再使用 this.setState()。

> Calculator 组件：我们会把当前输入的 temperature 和 scale 保存在组件内部的 state 中。这个 state 就是从两个输入框组件中“提升”而来的，并且它将用作两个输入框组件的共同“数据源”。这是我们为了渲染两个输入框所需要的所有数据的最小表示。

> 如果某些数据可以由 props 或 state 推导得出，那么它就不应该存在于 state 中。

## React小书
[关于 state 和 props 的总结:](https://www.yuque.com/studys/react/gzmasu)
> * state 的主要作用是用于组件保存、控制、修改自己的可变状态。state 在组件内部初始化，可以被组件自身修改，而外部不能访问也不能修改。你可以认为 state 是一个局部的、只能被组件自身控制的数据源。
> * state 中状态可以通过 this.setState方法进行更新，setState 会导致组件的重新渲染。
> * props 的主要作用是让使用该组件的父组件可以传入参数来配置该组件。它是外部传进来的配置参数，组件内部无法控制也无法修改。除非外部组件主动传入新的 props，否则组件的 props 永远保持不变。

> * 一个组件的 state 中的数据可以通过 props 传给子组件，一个组件可以使用外部传入的 props 来初始化自己的 state。但是它们的职责其实非常明晰分明：state 是让组件控制自己的状态，props 是让外部对组件自己进行配置。
> * 尽量少地用 state，尽量多地用 props。鼓励无状态组件(函数式组件)。

## 遇到的问题
今天先将t-SNE扔进了react里，首先遇到了**无法读取本地json文件**的问题，这里知道解决办法（跨域），但暂不做处理。先用测试数据，等组件渲染完成后再考虑请求数据。
然后将可视化部分从展示组件中抽取出来，发现react引用echarts的方法都是:echarts.init(document.getElementById("一个id"),并且在render里面也加一个```<div id="一个id">```；但是index.js里面已经有```ReactDom.render(<组件名 />, document.getElementById('app'))```，所以感觉不大对头。

## 解决办法
用**echarts-for-react**库，但这样做没有区分图和展示组件。

## 小结
1. 成功显示tsne
2. 学会了引入css
3. 暂且先把tsne作为最高层来测试，下一步
- [ ] 加入雷达图
- [ ] 模仿雨薇姐的sunburst，写交互/向下传数据

# 2021.4.27
## 遇到的问题
今天开始写reducer，乱七芭蕉的，感觉还是没有理清楚自己要干什么，看eduRedar请求数据部分后，发现应该下一步应该写后台了。思路大概是这样：
```routes -> mongoose -> util -> saga -> store```

## 今日完成：
- [x] 加入雷达图,并实现了传props参数

## todoList：
- [ ] 学Express
- [ ] 学saga
- [ ] 然后再回来照着雨薇姐的打
后端写完之后再重新看redux部分